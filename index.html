<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Demo for paper: CONTROLLABLE EMOTION TRANSFER FOR END-TO-END SPEECH SYNTHESIS</title>
</head>
<body>
<h1 id="Demo for paper" style="font-size:30px"><center> CONTROLLABLE EMOTION TRANSFER FOR END-TO-END SPEECH SYNTHESIS</center></h1>
<h2 id="abstract">Abstract:</h2>
<div style="text-align: justify">Emotion embedding space learned from references is a straightforward approach for emotion transfer in encoder-decoder structured emotional TTS systems. However, the transferred emotion in the synthetic speech is not accurate and expressive enough with emotion category confusions. Moreover, it is hard to select an appropriate reference to deliver desired emotion strength. To solve these problems, we propose a novel approach based on Tacotron. First, we plug two emotion classifiers -- one after the reference encoder, one after the decoder output -- to enhance the emotion-discriminative ability of the emotion embedding and the predicted mel-spectrum. Second, we adopt style loss to measure the difference between the generated and reference mel-spectrum. The emotion strength in the synthetic speech can be controlled by adjusting the value of the emotion embedding as the emotion embedding can be viewed as the feature map of the mel-spectrum. Experiments on emotion transfer and strength control have shown that the synthetic speech of the proposed method is more accurate and expressive with less emotion category confusions and the control of emotion strength is more salient to listeners.</div>
</div>
<p><br /></p>
<h4>1. The architecture of the proposed model: </h4>
<center><p><img src="system.png" alt="arch" /></p> </center>
<h4>2. Demo of style transfer for emotional TTS : </h4>
<blockquote>
<table border=1>
<div style="text-align: justify">To facilitate fair comparison, we use the same text to synthesize speech in six emotions. This may let the listeners more focused on the emotion delivered in the acoustic aspects. The text is (in Chinese): 让那些小主顾们等一等到吧。 </div>
<tr>
<td align="center"><span>emotion</span></td>
<td align="center"><span>Reference audio</span></td>
<td align="center"><span>Prosody Tacotron</span></td>
<td align="center"><span>+ L<sub>cls_src</sub><span></td>
<td align="center"><span>+ L<sub>cls_tgt</sub><span></td>
<td align="center"><span>+  L<sub>cls_src</sub> + L<sub>cls_tgt</sub><span></td>
<td align="center"><span>L<sub>total</sub><span></td>
</tr>
<tr>
<td>surprise</td>
<td><audio controls><source src="samples/original/210498.wav"></audio></td>
<td><audio controls><source src="samples/refnet/101020-210498-Mref.wav"></audio></td>
<td><audio controls><source src="samples/nodencl/101020-210498-Mnd.wav"></audio></td>
<td><audio controls><source src="samples/noencl/101020-210498-noencl.wav"></audio></td>
<td><audio controls><source src="samples/nogram/101020-210498-Mng.wav"></audio></td>
<td><audio controls><source src="samples/gram/101020-210011-M.wav"></audio></td>
</tr>
<tr>
<td>happy</td>
<td><audio controls><source src="samples/original/220184.wav"></audio></td>
<td><audio controls><source src="samples/refnet/101020-220158-Mref.wav"></audio></td>
<td><audio controls><source src="samples/nodencl/101020-220158-Mnd.wav"></audio></td>
<td><audio controls><source src="samples/noencl/101020-220158-noencl.wav"></audio></td>
<td><audio controls><source src="samples/nogram/101020-220158-Mng.wav"></audio></td>
<td><audio controls><source src="samples/gram/101020-220011-M.wav"></audio></td>
</tr>
<tr>
<td>sad</td>
<td><audio controls><source src="samples/original/230233.wav"></audio></td>
<td><audio controls><source src="samples/refnet/101020-230444-Mref.wav"></audio></td>
<td><audio controls><source src="samples/nodencl/101020-230444-Mnd.wav"></audio></td>
<td><audio controls><source src="samples/noencl/101020-230444-noencl.wav"></audio></td>
<td><audio controls><source src="samples/nogram/101020-230444-Mng.wav"></audio></td>
<td><audio controls><source src="samples/gram/101020-230060-M.wav"></audio></td>
</tr>
<tr>
<td>angry</td>
<td><audio controls><source src="samples/original/240639.wav"></audio></td>
<td><audio controls><source src="samples/refnet/101020-240560-Mref.wav"></audio></td>
<td><audio controls><source src="samples/nodencl/101020-240560-Mnd.wav"></audio></td>
<td><audio controls><source src="samples/noencl/101020-240560-noencl.wav"></audio></td>
<td><audio controls><source src="samples/nogram/101020-240560-Mng.wav"></audio></td>
<td><audio controls><source src="samples/gram/101020-240095-M.wav"></audio></td>                                                 
</tr>
<tr> 
<td>disgust</td>
<td><audio controls><source src="samples/original/250564.wav"></audio></td>
<td><audio controls><source src="samples/refnet/101020-250592-Mref.wav"></audio></td>
<td><audio controls><source src="samples/nodencl/101020-250592-Mnd.wav"></audio></td>
<td><audio controls><source src="samples/noencl/101020-250592-noencl.wav"></audio></td>
<td><audio controls><source src="samples/nogram/101020-250592-Mng.wav"></audio></td>
<td><audio controls><source src="samples/gram/101020-250011-M.wav"></audio></td> 
</tr>
<tr>
<td>fear</td>
<td><audio controls><source src="samples/original/260554.wav"></audio></td>
<td><audio controls><source src="samples/refnet/101020-260151-Mref.wav"></audio></td>
<td><audio controls><source src="samples/nodencl/101020-260151-Mnd.wav"></audio></td>
<td><audio controls><source src="samples/noencl/101020-260151-noencl.wav"></audio></td>
<td><audio controls><source src="samples/nogram/101020-260151-Mng.wav"></audio></td>
<td><audio controls><source src="samples/gram/101020-260090-M.wav"></audio></td> 
</tr>
</table>
<br/>
</blockquote>
<h4>3. Demo of emotion strength control in emotional TTS : </h4>
<blockquote>
<table border=1>
<div style="text-align: justify"> To facilitate fair comparison, we use the same text to synthesize speech in six emotions and three strengths. This may let the listeners more focused on the emotion delivered in the acoustic aspects. The text is (in Chinese): 让那些小主顾们等一等到吧。 </div>
<tr>
<td align="center"><span>emotion</span></td>
<td align="center"><span>RA-Tacotron (Low)</span></td>
<td align="center"><span> proposed (Low)<span></td>
<td align="center"><span>RA-Tacotron (Medium)</span></td>
<td align="center"><span>proposed (Medium)<span></td>
<td align="center"><span>RA-Tacotron (Strong)</span></td>
<td align="center"><span>proposed (Strong)<span></td>
</tr>
<tr>
<td>surprise</td>
<td><audio controls><source src="samples/strength_control/ra/101020-surprise-L-ra.wav"></audio></td>
<td><audio controls><source src="samples/strength_control/o3_3/101020-210011-L.wav"></audio></td>
<td><audio controls><source src="samples/strength_control/ra/101020-surprise-M-ra.wav"></audio></td> 
<td><audio controls><source src="samples/strength_control/o3_3/101020-210011-M.wav"></audio></td>
<td><audio controls><source src="samples/strength_control/ra/101020-surprise-H-ra.wav"></audio></td>           
<td><audio controls><source src="samples/strength_control/o3_3/101020-210011-H.wav"></audio></td>
</tr>
<tr>
<td>happy</td>
<td><audio controls><source src="samples/strength_control/ra/101020-happy-L-ra.wav"></audio></td>
<td><audio controls><source src="samples/strength_control/o3_3/101020-220011-L.wav"></audio></td>
<td><audio controls><source src="samples/strength_control/ra/101020-happy-M-ra.wav"></audio></td> 
<td><audio controls><source src="samples/strength_control/o3_3/101020-220011-M.wav"></audio></td>
<td><audio controls><source src="samples/strength_control/ra/101020-happy-H-ra.wav"></audio></td> 
<td><audio controls><source src="samples/strength_control/o3_3/101020-220011-H.wav"></audio></td>
</tr>
<tr>
<td>sad</td>                                                                                                                    
<td><audio controls><source src="samples/strength_control/ra/101020-sad-L-ra.wav"></audio></td>
<td><audio controls><source src="samples/strength_control/o3_3/101020-230060-L.wav"></audio></td>
<td><audio controls><source src="samples/strength_control/ra/101020-sad-M-ra.wav"></audio></td>
<td><audio controls><source src="samples/strength_control/o3_3/101020-230060-M.wav"></audio></td>
<td><audio controls><source src="samples/strength_control/ra/101020-sad-H-ra.wav"></audio></td>              
<td><audio controls><source src="samples/strength_control/o3_3/101020-230060-H.wav"></audio></td>
</tr>
<tr>
<td>angry</td>                                                                                                                    
<td><audio controls><source src="samples/strength_control/ra/101020-angry-L-ra.wav"></audio></td>
<td><audio controls><source src="samples/strength_control/o3_3/101020-240095-L.wav"></audio></td>
<td><audio controls><source src="samples/strength_control/ra/101020-angry-M-ra.wav"></audio></td> 
<td><audio controls><source src="samples/strength_control/o3_3/101020-240095-M.wav"></audio></td>
<td><audio controls><source src="samples/strength_control/ra/101020-angry-H-ra.wav"></audio></td>
<td><audio controls><source src="samples/strength_control/o3_3/101020-240095-H.wav"></audio></td>
</tr>
<tr>
<td>disgust</td>                                               
<td><audio controls><source src="samples/strength_control/ra/101020-disgust-L-ra.wav"></audio></td>
<td><audio controls><source src="samples/strength_control/o3_3/101020-250011-L.wav"></audio></td>
<td><audio controls><source src="samples/strength_control/ra/101020-disgust-M-ra.wav"></audio></td> 
<td><audio controls><source src="samples/strength_control/o3_3/101020-250011-M.wav"></audio></td>
<td><audio controls><source src="samplesstrength_control/ra/101020-disgust-H-ra.wav"></audio></td>  
<td><audio controls><source src="samples/strength_control/o3_3/101020-250011-H.wav"></audio></td>
</tr>
<tr>
<td>fear</td>                                                                                 
<td><audio controls><source src="samples/strength_control/ra/101020-fear-L-ra.wav"></audio></td>
<td><audio controls><source src="samples/strength_control/o3_3/101020-260090-L.wav"></audio></td>
<td><audio controls><source src="samples/strength_control/ra/101020-fear-M-ra.wav"></audio></td> 
<td><audio controls><source src="samples/strength_control/o3_3/101020-260090-M.wav"></audio></td>
<td><audio controls><source src="samples/strength_control/ra/101020-fear-H-ra.wav"></audio></td>
<td><audio controls><source src="samples/strength_control/o3_3/101020-260090-NH.wav"></audio></td>
</table>
<br/>
</blockquote>
<h4>4. Demo of continuous emotion strength control : </h4>
<blockquote>
<table border=1>
<div style="text-align: justify"> (Not mentioned in the paper) Using continuous emotion strength control can make audiobooks more lively and interesting. We used six emotions to synthesize a virtual story alternately. Among them, each sentence is assigned a different strength according to the needs of the plot . 
The text is (in Chinese). </div>
【neutral】有一天我走路去学校上学。</div>
【neutral】从家到学校要走一段好长的山路。</div>
【happy-0.1】还好路边风景秀丽，开满了野花。</div>
【happy-1.0】我开心极了，边走边哼着小曲儿。</div>
【happy-1.5】一想到明天就是周六，我高兴的快跳了起来。</div>
【happy-2.0】约好了和朋友们明天出去玩，真的太棒了！</div>
【surprise-2.0】突然，路边出现了一个金光闪闪的箱子。</div>
【surprise-1.0】好奇怪啊，我每天都走这条路，从来没见过这个箱子啊。</div>
【surprise-0.5】我好奇的打开了它。</div>
【fear-0.5】一个猴子从箱子里跳了出来，把我吓了一跳。</div>
【fear-1.0】它样子怪怪的，还拦住了我的去路。</div>
【surprise-1.0】猴子突然说：</div>
【sad-0.5】求求你，救救我吧，我是王子，被老巫婆施加了魔咒。</div>
【sad-1.0】你不救我，我就永远是一只猴子了。</div>
【sad-2.0】求求你了，求求你了，你只要把我头上的紧箍咒拿掉就好。</div>
【sad-2.5】你救了我，我会答应你所有的愿望。</div>
【disgust-2.0】“好吧，好吧，我来救你”。</div>
【neutral】我取掉了猴子头上的紧箍咒。</div>
【surprise-2.0】猴子果然变成了一个英俊的王子。</div>
【happy-2.0】太感谢你了！太感谢你了！</div>
【happy-1.0】王子高兴的说。</div>
【happy-1.5】你有什么愿望呢？我都能帮你实现。</div>
【surprise-2.5】能让我变成奥特曼吗？</div>
【angry-1.5】王子生气的说：</div>
【angry-2.0】除了这个忙，我都能帮你！</div>
【neutral】：我睁开了眼。原来这是一场梦。</div> 
The number after the emotion category is the control intensity, the greater the value, the greater the strength.</div>
<tr>
<td align="center"><span>Story with continuous emotion strength control</span></td>
</tr>
<tr>
<td><audio controls><source src="samples/story_wavernn_nosile_2/newstory_all.wav"></audio></td>
</table>
<br/>
</blockquote>



